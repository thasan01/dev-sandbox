<!DOCTYPE html>
<html>
    <head>
        <!--
        -->
        <title>Canvas Image Data</title>
        <script>
            const [SCREEN_WIDTH, SCREEN_HEIGHT] = [640,480];

            window.onload = function() {
                console.log("init");

                let canvas = document.getElementById("layer1");
                let ctx = canvas.getContext("2d");
                canvas.width = SCREEN_WIDTH;
                canvas.height = SCREEN_HEIGHT;

                let imgData = ctx.getImageData(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);
                for (i = 0; i < imgData.data.length; i += 4) {
                    imgData.data[i] = 0;
                    imgData.data[i+1] = 0;
                    imgData.data[i+2] = 0;
                    imgData.data[i+3] = 155;
                }

                console.log(imgData.data);
                ctx.putImageData(imgData, 0, 0);
            }
        </script>


        <style>
            #screen  { position: relative; width: 640px; height: 480px; }
            #screen canvas {border-style: solid; position: absolute; left: 0; right: 0; width: 100%; height: 100%;}            
        </style>        

    </head>

    <body>
        <div id="screen">
            <canvas id="layer1"/>
        </div>
    </body>    

</html>